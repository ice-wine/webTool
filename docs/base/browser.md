# 浏览器

## SEO

优化 **代码**、**结构**、**标签**、**内容** 等，提高网站在搜索引擎中的排名，提高用户可见度和流量。

- Title、Description、Keywords：强调重点，概括内容，重要关键词。
- `语义化` HTML 使用；图片 添加 `alt` 属性；减少 `iframe` 使用；提高网站加载速度。

## 内核

浏览器内核是浏览器的核心组件，负责解释HTML、CSS和JavaScript代码，并将其呈现在用户的屏幕上。

- 组成

  - **渲染引擎**：解析HTML和CSS，生成可视化页面。
  - **JavaScript引擎**：解析和执行JavaScript代码。
- 主要内核

  - WebKit：Safari等
  - Blink：Chrome、Opera等
  - Gecko：Firefox
  - Trident：IE，Edge
- 功能

  - 解析与渲染：将网页代码转换为可视化的页面。
  - 执行脚本：运行JavaScript代码，实现动态功能。
  - 资源管理：管理缓存和网络请求。
- 兼容性和性能

  - 不同内核有不同的标准支持程度、速度和特性实现。
  - 影响浏览器的性能和兼容性。

## 解析URL

1. `浏览器`接收URL至发起网络请求：涵盖浏览器机制、进程与线程管理。
2. `网络请求`至HTTP请求完成：涉及DNS解析、TCP/IP协议栈。
3. `服务器`接收请求至后端处理：包括负载均衡、安全检查。
4. 前后端 `HTTP`交互：探讨HTTP头、状态码、Cookie及编码解码，如 `gzip`压缩。
5. HTTP `缓存机制`：讲解缓存头、ETag、Cache-Control。
6. HTTP `响应解析`：HTML解析、DOM构建、`render`树、样式计算、布局与渲染。
7. `CSS`可视化格式化模型：理解元素渲染规则、BFC等。
8. `JavaScript`执行过程：解析、执行环境、内存管理。
9. 其他扩展：如跨域处理、Web安全、Hybrid应用开发。

## 存储

| 特性         | cookie                                                            | localStorage                 | sessionStorage                                                         | indexDB                                                                  |
| ------------ | ----------------------------------------------------------------- | ---------------------------- | ---------------------------------------------------------------------- | ------------------------------------------------------------------------ |
| 数据生命周期 | 一般由服务器生成，可设置过期时间                                  | 除非被清理，否则一直存在     | 页面关闭即清理                                                         | 除非被清理，否则一直存在                                                 |
| 数据存储大小 | `4KB`                                                           | `5M`                       | `5M`                                                                 | 无限                                                                     |
| 与服务端通信 | 每次都会携带在 `header` 中，对于请求性能影响                    | 不参与                       | 不参与                                                                 | 不参与                                                                   |
| 应用场景     | 用户认证：**登录状态**<br/>跟踪行为：记录**访问次数** | 长期存储：**用户偏好** | 临时存储：**表单输入内容**<br/> 会话数据：当前**会话信息** | 复杂数据：**大量或复杂**对象<br/> 离线应用：管理**离线数据** |

> 从上表可以看出，`cookie` 不建议用于存储。如果没有大量数据存储需求，使用 `localStorage` 和 `sessionStorage`。不常改动的数据用 `localStorage`，其他情况用 sessionStorage。

## 跨域

原因：浏览器出于安全考虑，要求协议、域名（或IP地址）和端口三者必须相同（同源策略）

解决方法：JSONP（仅支持GET请求）、CORS（跨源资源共享）、代理服务器（如Nginx或Node.js）

- 前端：使用代理服务器
- 后端：通过CORS（跨源资源共享）设置响应头。即：通过服务器在响应头中添加 Access-Control-Allow-* 头
